# JOIN
카티션프로덕트로 연산처리 

| 조인 종류          | 기준 테이블 | 결과에 포함되는 조건                                    | 일치하지 않는 데이터 처리 |
|-------------------|-------------|----------------------------------------------------------|----------------------------|
| INNER JOIN        | 양쪽 모두   | 양쪽 테이블 모두에 일치하는 값이 있을 때만              | 제외됨                     |
| LEFT OUTER JOIN   | 왼쪽(A)     | 왼쪽 테이블 전체 + 오른쪽 테이블과 일치하는 데이터       | 오른쪽이 없으면 NULL       |
| RIGHT OUTER JOIN  | 오른쪽(B)   | 오른쪽 테이블 전체 + 왼쪽 테이블과 일치하는 데이터       | 왼쪽이 없으면 NULL         |
| FULL OUTER JOIN   | 양쪽 모두   | 양쪽 테이블 전체                                         | 일치하지 않으면 NULL       |

#서브쿼리와 조인의 연산관계
| 항목       | 서브쿼리 (Subquery)                                                                                                | 조인 (Join)                                                                                                                                                             |
| -------- | -------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ✅ 처리 흐름  | 내부 쿼리 먼저 실행 → 외부 쿼리에 값 전달                                                                                      | 두 테이블을 먼저 병합 → 그 결과를 기준으로 연산                                                                                                                                          |
| ✅ 사용 위치  | `SELECT`, `WHERE`, `FROM`, `HAVING` 절에서 사용 가능                                                                  | 주로 `FROM` 절에서 사용됨                                                                                                                                                     |
| ✅ 데이터 규모 | 작은 테이블 참조 시 유리함 (ex. ID 매칭, 단일 값 조회 등)                                                                         | 대용량 데이터에서도 인덱스 사용 시 유리함                                                                                                                                               |
| ✅ 성능     | **단순 필터링**에는 적합하지만, **상관 서브쿼리** 사용 시 성능 저하 발생 가능                                                               | **인덱스 활용 가능**, 병합 연산 최적화로 **대체로 성능 우수**                                                                                                                               |
| ✅ 가독성    | 간단한 쿼리에서는 명확하지만 중첩 구조가 깊어지면 읽기 어려움                                                                             | 한눈에 병합 구조 파악 가능                                                                                                                                                       |
| ✅ 활용 예시  | - 존재 여부 확인 (`EXISTS`, `IN`) <br> - 특정 집계 결과 조건부 필터링 <br> - 단일 값을 조건에 사용하는 경우                                   | - 다대다/일대다 관계 연결 <br> - 조건에 따라 필터링, 정렬, 그룹화 <br> - 관계형 데이터 분석                                                                                                          |
| ✅ 활용 예 1 | `sql SELECT * FROM emp WHERE dept_id = (SELECT MAX(id) FROM dept); `                                           | `sql SELECT * FROM emp e JOIN dept d ON e.dept_id = d.id; `                                                                                                           |
| ✅ 활용 예 2 | 상관 서브쿼리: `sql SELECT name FROM emp e WHERE salary > (SELECT AVG(salary) FROM emp WHERE dept_id = e.dept_id); ` | 같은 결과: `sql SELECT e.name FROM emp e JOIN (SELECT dept_id, AVG(salary) AS avg_sal FROM emp GROUP BY dept_id) a ON e.dept_id = a.dept_id WHERE e.salary > a.avg_sal; ` |
