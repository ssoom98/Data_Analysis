# 📘 릴레이션(Relation)

## 릴레이션이란?
- 관계형 데이터베이스에서 **테이블(Table)**에 해당
- **튜플(Tuple)**: 릴레이션의 각 행 (= 레코드)
- **속성(Attribute)**: 릴레이션의 각 열 (= 컬럼)
- **도메인(Domain)**: 속성이 가질 수 있는 값들의 집합

## 릴레이션 간/내 관계
- **릴레이션 내 관계**: 릴레이션 내부의 튜플들 간의 의미적 연결
- **릴레이션 간 관계**: 외래키(Foreign Key)를 통해 다른 릴레이션과 연결

예시:
- `도서(도서번호)` ↔ `주문(도서번호)`
- `고객(고객번호)` ↔ `주문(고객번호)`

---

# 🔑 키 (Key)

## 1. 후보키 (Candidate Key)
- 튜플을 유일하게 식별할 수 있는 속성의 **최소 집합**
- 하나의 릴레이션에 **여러 개** 존재 가능

## 2. 기본키 (Primary Key)
- 후보키 중에서 **대표로 선택된 키**
- **NULL 불허**, **중복 불허**

## 3. 외래키 (Foreign Key)
- 다른 릴레이션의 **기본키를 참조**하는 속성
- 릴레이션 간 **관계 설정**에 사용됨

---

# 🔢 관계 대수 (Relational Algebra)

- **절차적 언어**: 결과를 얻기 위한 연산 순서를 명시

## 주요 연산
| 연산 기호 | 설명 |
|----------|------|
| σ (시그마) | **Selection**: 조건에 맞는 튜플 선택 |
| π (파이) | **Projection**: 특정 속성(열)만 선택 |
| ∪ | **합집합** |
| ∩ | **교집합** |
| − | **차집합** |
| × | **카티션 프로덕트(Cartesian Product)** |
| ⋈ | **조인(Join)**: 조건에 따라 두 릴레이션 결합 |

---

# 🧮 관계 해석 (Relational Calculus)

- **비절차적 언어**: "무엇"을 원하는지만 명시하고 "어떻게"는 정의하지 않음

## 종류
- **튜플 관계 해석 (Tuple Relational Calculus)**  
  - 형식: `{ t | P(t) }`
- **도메인 관계 해석 (Domain Relational Calculus)**  
  - 형식: `{ <x, y, z> | P(x, y, z) }`

---

# ✳️ 카티션 프로덕트 (Cartesian Product)

- 두 릴레이션의 모든 튜플을 **모든 조합**으로 결합
- 결과 튜플 수 = 릴레이션 A의 튜플 수 × 릴레이션 B의 튜플 수

### 예시:

- 보통 **조인 연산**의 기반으로 사용됨

---

# ✅ 무결성 제약조건 (Integrity Constraints)

| 구분 | 설명 |
|------|------|
| 개체 무결성 | 기본키는 NULL일 수 없음 |
| 참조 무결성 | 외래키는 참조 대상 기본키가 실제로 존재해야 함 |

---

# 📐 정규화 (Normalization)

- 릴레이션을 구조화하여 **중복을 최소화**하고 **이상현상(삽입, 삭제, 갱신 이상)을 방지**

## 주요 정규형
1. **제1정규형(1NF)**: 원자값만 저장
2. **제2정규형(2NF)**: 부분 함수 종속 제거
3. **제3정규형(3NF)**: 이행적 함수 종속 제거
4. **보이스-코드 정규형(BCNF)**: 결정자 후보키화

---

# 📄 릴레이션 예시 테이블

### 도서
| 도서번호 | 도서이름 | 출판사 | 가격 |
|----------|----------|--------|------|

### 고객
| 고객번호 | 이름 | 전화번호 | 주소 |
|----------|------|----------|------|

### 주문
| 도서번호 | 고객번호 | 판매가격 | 주문일자 |
|----------|----------|----------|----------|

